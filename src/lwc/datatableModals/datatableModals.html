<template>
    <div class="datatableModals" data-is-desktop={isDesktop}>
            <div class="modal">
                <!--                FILTER'S MODAL                  -->
                <template if:true={filterModal}>
                    <div class="filterModal">
                        <div class="modal__header">
                            <img class="slds-modal__close closeModal" src={closeicon} onclick={closeModal}>
                        </div>
                        <div class="modal__content">
                            <template for:each={setFilters} for:item="col">
                                <div key={col.fieldName} class="slds-grid slds-wrap slds-gutters_x-small">
                                    <template if:true={col.filtrable}>
                                        <div class="filter-title slds-col slds-size_4-of-4 slds-grid">
                                            <h2 class="slds-col slds-size_3-of-4">{col.label}</h2>
                                        </div>
                                        <template for:each={col.filtrableValues} for:item="filter">
                                            <!-- <div key={filter} class="slds-col slds-size_2-of-4">  
                                                <button class="filter" 
                                                        data-column={col.fieldName} 
                                                        data-type={col.type} 
                                                        data-value={filter}
                                                        onclick={filterActive}>{filter}
                                                </button>
                                            </div>
                                        </template>
                                        <template if:true={showDatepickers}>
                                            <div class="slds-grid slds-wrap slds-gutters_x-small">
                                                <lightning-input class="slds-col slds-size_2-of-4 datefrom" type="date" name="from-day" max={seletedDateTo} onchange={changeDatepickerFrom} placeholder="From"></lightning-input>
                                                <lightning-input class="slds-col slds-size_2-of-4 dateto" type="date" name="to-day" min={seletedDateFrom} onchange={changeDatepickerTo} placeholder="To" ></lightning-input>
                                            </div>
                                        </template> -->
                                            <div key={filter} class="slds-col slds-size_2-of-4"> 
                                                <c-datatable-filters column={col.fieldName} 
                                                                     type={col.type} 
                                                                     filter={filter} 
                                                                     appliedfilters={table.appliedFilters} 
                                                                     formartdate={formartDate}
                                                                     onfilter={filterElement}>
                                                </c-datatable-filters>
                                            </div>
                                        </template>
                                    </template>
                                </div>
                            </template>
                            <!-- <template if:true={isCustomDate} class="slds-grid slds-wrap slds-gutters_x-small">
                                <lightning-input class="slds-col slds-size_2-of-4 datefrom" type="date" name="from-day" max={seletedDateTo} onchange={changeDatepickerFrom} placeholder="From"></lightning-input>
                                <lightning-input class="slds-col slds-size_2-of-4 dateto" type="date" name="to-day" min={seletedDateFrom} onchange={changeDatepickerTo} placeholder="To" ></lightning-input>
                            </template> -->
                            <template if:true={showFilterModalFooter}>
                                <div class="bottom-spacer">&nbsp;</div>
                            </template>
                        </div>
                        <template if:true={showFilterModalFooter}>
                            <div class="modal__footer slds-grid slds-wrap">
                                <button onclick={filterAllRemove} class="slds-col slds-size_1-of-1">Remove All Filters</button>
                                <button class="applyFilter slds-col slds-size_1-of-1" onclick={applyFilter}>Apply</button>
                            </div>
                        </template>
                    </div>
                </template>
                <!--                DETAIL'S MODAL                 -->
                <div class="detailmodal">
                    <template if:true={detailModal}>
                        <div class="modal__header">
                            <img class="closeModal" src={closeicon} onclick={closeModal}>
                        </div>
                        <div class="modal__content">
                            <template for:each={rowData} for:item="data">
                                <div class="detailcontent" key={data.column}>
                                        <p class="column">{data.column}</p>
                                        <p class="value">{data.row}</p>
                                </div>
                            </template>
                        </div>
                        <div class="modal__footer slds-grid slds-wrap">
                            <template for:each={rowaction} for:item="action">
                                    <div key={action.label} class="slds-no-flex slds-col slds-size_1-of-4">
                                        <img src={action.icon}>
                                    </div>
                            </template>
                        </div>
                    </template>
                </div>
                <!--                ACTION'S MODAL                 -->
                <template if:true={actionModal}>
                    <div class="modal__header">
                    </div>
                    <div class="modal__content">
                        <template for:each={rowaction} for:item="action">
                                <div key={action.label}>
                                    <label>{action.label}</label>
                                    <img src={action.icon}>
                                </div>
                        </template>
                    </div>
                    <div class="modal__footer">
                        <button onclick={closeModal}>Close</button>
                    </div>
                </template>
        </div>
    </div>
</template>